<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="博客, 生活简报">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tank37135的生活简报</title>
    <meta name="description" content="Tank37135的生活简报，记录生活">
    <link rel="icon" href="/assets/images/logo/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/assets/style/main.css">
    <link rel="stylesheet" type="text/css" href="/assets/style/style.css">
    <link rel="stylesheet" type="text/css" href="/assets/style/subassembly.css">
    <link rel="stylesheet" type="text/css" href="/assets/style/background.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/source-code-pro" type="text/css" />
    <style>
        body {
            padding: 20px;
        }


        .loading {
            font-size: 20px;
            color: #555;
            font-weight: bold;
        }


    </style>
</head>

<body>
    <header class="header">
        <h1>简报</h1>
    </header>
    <main>
    <div class="articles-container" id="articleResults">
        <div id="loadingMessage" class="loading">正在载入...</div>
    </div>
</main>

    <script>

        let allCards = [];  // 用于存储所有卡片数据

        // 加载并解析 XML 文件
        function loadXMLDoc(filename) {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState === 4 && this.status === 200) {
                    displayCards(this);
                }
            };
            xhttp.open("GET", filename, true);
            xhttp.send();
        }

        // 显示所有卡片，并根据时间排序
        function displayCards(xml) {
            var xmlDoc = xml.responseXML;
            var cards = xmlDoc.getElementsByTagName("Card");
            allCards = []; // 清空之前的数据

            for (var i = 0; i < cards.length; i++) {
                var card = cards[i];
                var time = card.getElementsByTagName("Time")[0].childNodes[0].nodeValue;
                var title = card.getElementsByTagName("Title")[0].childNodes[0].nodeValue;
                var text = card.getElementsByTagName("Text")[0].childNodes[0].nodeValue;

                allCards.push({
                    time: time,
                    title: title,
                    text: text
                });
            }

            // 按时间降序排列
            allCards.sort((a, b) => new Date(b.time) - new Date(a.time));

            // 隐藏加载信息，显示卡牌
            document.getElementById("loadingMessage").style.display = "none";
            renderCards(allCards);
        }

        // 根据数据渲染卡牌
        function renderCards(cards) {
            var container = document.getElementById("articleResults"); // 之前改成了 articleResults
            container.innerHTML = '';  // 清空容器

            cards.forEach(card => {
                var cardElement = document.createElement("div");
                cardElement.classList.add("article-card");

                cardElement.setAttribute("data-tags", "exampleTag"); // 为卡片添加 tags 属性

                cardElement.innerHTML = `
                    <div class="article-date">
                        <i class="bi bi-calendar-check-fill"></i> ${card.time}
                    </div>
                    <div class="article-title">${card.title}</div>
                    <div class="article-excerpt">${card.text}</div>
                `;

                container.appendChild(cardElement);
            });
        }

        // 初次加载 XML 数据
        loadXMLDoc("data.xml");

    </script>
<footer>
        &copy; 2025 Tank37135. All rights reserved.<br>
        本页是对于生活中的一些事情的简要记录，不具有评论性，仅记录
</footer>
</body>

</html>
